@use 'sass:map';
@import "~bootstrap/scss/bootstrap";
@import '~bootstrap/scss/bootstrap-utilities';
@import './_shadows';

.cellContainer {
  height: fit-content;
}

.notContextContainer {
  @extend .border;
  box-shadow: none;
  transition: box-shadow .15s;

  &:hover,
  &.isEdited {
    box-shadow: $worksheet-shadow-sm;
  }
  
  &.isEdited:focus-within {
    box-shadow: $worksheet-shadow-lg;
  }
}

.lockIcon {
  position: absolute;
  padding: map.get($spacers, 1);
  border-radius: 50%;
  left: 50%;
  transform: translateX(-50%) translateY(calc(-50% - 1rem));
}

.addToolbarContainer {
  height: map.get($spacers, 3) * 1.25;
}

.addToolbar {
  margin-left: auto;
  margin-right: auto;
  margin-top: -5.5px;
  z-index: $zindex-dropdown - 20;
}

.editToolbar {
  position: absolute;
  right: map.get($spacers, 3);
  top: - map.get($spacers, 3);
  z-index: $zindex-dropdown - 20;
}

.editToolbarCtx {
  position: absolute;
  left: map.get($spacers, 3);
  top: - map.get($spacers, 3);
  z-index: $zindex-dropdown - 20;
}

.appCell .appOverlay {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
  z-index: $zindex-dropdown - 30;
  // background-color: rgba($body-bg, 0.35);
}

.appCell {
  position: relative;

  & .appContainer {
    pointer-events: none;
  }

  .isEdited & .appContainer {
    pointer-events: initial;
  }

  &.tableauEditorCell .appContainer {
    padding: map.get($spacers, 3);
    overflow-x: auto;
  }

  .cellContainer:not(.isEdited) &.tableauEditorCell .appContainer {
    padding-bottom: 0;
  }

  &.tableauEditorCell::before {
    content: '';
    position: absolute;
    left: 0;
    top: map.get($spacers, 4);
    bottom: 0;
    width: map.get($spacers, 3);
    background-image: linear-gradient(90deg, $body-bg, rgba($body-bg, 0));
    z-index: 100;
  }

  &.tableauEditorCell::after {
    content: '';
    position: absolute;
    right: 0;
    top: map.get($spacers, 4);
    bottom: 0;
    width: map.get($spacers, 3);
    background-image: linear-gradient(270deg, $body-bg, rgba($body-bg, 0));
    z-index: 100;
  }

  &.resolutionEditorCell .appContainer {
    padding: map.get($spacers, 3);
  }

  .cellContainer:not(.isEdited) &.resolutionEditorCell .appContainer {
    padding-top: 0;
  }

  &.formalizationCheckerCell .appContainer {
      padding: map.get($spacers, 3) map.get($spacers, 3) 0 map.get($spacers, 3);
  }

  &.newStructureExplorerCell .appContainer {
      padding-bottom: map.get($spacers, 3);
  }

}
